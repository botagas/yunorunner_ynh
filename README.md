<!--
N.B.: This README was automatically generated by <https://github.com/YunoHost/apps/tree/master/tools/readme_generator>
It shall NOT be edited by hand.
-->

# YunoRunner for YunoHost

[![AUTOMATIC TESTS LEVEL](https://yunorunner.tiesiog.lt/api/badge/yunorunner/integration)](https://ci-apps.yunohost.org/ci/apps/yunorunner/)
![WORKING STATUS](https://yunorunner.tiesiog.lt/api/badge/yunorunner/status)
![Maintenance status](https://apps.yunohost.org/badge/maintained/yunorunner)

[![Install YunoRunner with YunoHost](https://install-app.yunohost.org/install-with-yunohost.svg)](https://install-app.yunohost.org/?app=yunorunner)

*[Read this README in other languages.](./ALL_README.md)*

> *This package allows you to install YunoRunner quickly and simply on a YunoHost server.*  
> *If you don't have YunoHost, please consult [the guide](https://yunohost.org/install) to learn how to install it.*

## Overview

YunoRunner is a Continuous Integration (CI) app tailored for testing YunoHost app packages. It leverages **Incus** for containerized testing environments and integrates with [package_check](https://github.com/YunoHost/package_check) to automate the validation process.

This package allows you to self-host a YunoRunner instance and use it with your own GitHub repositories. The setup process includes:

1. **Generate a GitHub Personal Access Token**:
   - Go to GitHub Developer Settings and create a token with the following permissions:
     - `read:org` (read organization metadata)
     - `repo:status` (read/write commit statuses)
     - `public_repo` (read/write pull requests for public repositories)

2. **Prepare Your Repository**:
   - Clone the [YunoHost/apps](https://github.com/YunoHost/apps) repository.
   - Add the necessary details to the `apps.toml` file in your repository.

3. **Install YunoRunner**:
   - Provide the GitHub token, select a domain, and specify the repository containing the `apps.toml` file during installation.

4. **Set Up a GitHub Webhook**:
   - Create a webhook in your GitHub repository pointing to `https://example.tld/github`.
   - Configure it to trigger on the following events:
     - `Issue Comment`
     - `Pull Request`

5. **(Optional) Add Status/Integration Badges**:
   - Enhance your app's README by including status and integration badges generated by your YunoRunner instance.

### Badge Paths
- **Status Badge**: `/api/badge/<app_name>/status`
- **Integration Badge**: `/api/badge/<app_name>/integration`

### Example Badge Code
```markdown
[![Integration level](https://img.shields.io/endpoint?url=https://sub.domain.tld/api/badge/<app_name>/integration)](https://ci-apps.yunohost.org/ci/apps/<app_name>/)
![Working status](https://img.shields.io/endpoint?url=https://sub.domain.tld/api/badge/<app_name>/status)
```

**Shipped version:** 2024.12.10~ynh1

## Screenshots

![Screenshot of YunoRunner](./doc/screenshots/screenshot.png)

## Documentation and resources

- Upstream app code repository: <https://github.com/YunoHost/yunorunner>
- YunoHost Store: <https://apps.yunohost.org/app/yunorunner>
- Report a bug: <https://github.com/YunoHost-Apps/yunorunner_ynh/issues>

## Developer info

Please send your pull request to the [`testing` branch](https://github.com/YunoHost-Apps/yunorunner_ynh/tree/testing).

To try the `testing` branch, please proceed like that:

```bash
sudo yunohost app install https://github.com/YunoHost-Apps/yunorunner_ynh/tree/testing --debug
or
sudo yunohost app upgrade yunorunner -u https://github.com/YunoHost-Apps/yunorunner_ynh/tree/testing --debug
```

**More info regarding app packaging:** <https://yunohost.org/packaging_apps>
